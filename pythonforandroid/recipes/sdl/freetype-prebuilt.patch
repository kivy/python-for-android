--- sdl_ttf/Android.mk.orig	2015-06-21 15:14:54.000000000 +0200
+++ sdl_ttf/Android.mk	2016-04-16 19:09:51.775647997 +0200
@@ -2,9 +2,29 @@
 
 include $(CLEAR_VARS)
 
-LOCAL_MODULE := sdl_ttf
+SUPPORT_HARFBUZZ := $(WITH_HARFBUZZ_SUPPORT)
+HARFBUZZ_LIBRARY_PATH := $(LOCAL_PATH)/../../../../other_builds/harfbuzz/$(ARCH)/harfbuzz
 
-LOCAL_CFLAGS := -I$(LOCAL_PATH) -I$(LOCAL_PATH)/../sdl/include -I$(LOCAL_PATH)/../freetype/include
+# HARFBUZZ
+ifeq ($(SUPPORT_HARFBUZZ),true)
+    FREETYPE_LIBRARY_PATH := $(LOCAL_PATH)/../../../../other_builds/freetype-harfbuzz/$(ARCH)/freetype
+
+    LOCAL_MODULE    := harfbuzz
+    LOCAL_SRC_FILES := $(HARFBUZZ_LIBRARY_PATH)/src/.libs/libharfbuzz.a
+    include $(PREBUILT_STATIC_LIBRARY)
+    include $(CLEAR_VARS)
+else
+    FREETYPE_LIBRARY_PATH := $(LOCAL_PATH)/../../../../other_builds/freetype/$(ARCH)/freetype
+endif
+
+# FREETYPE
+LOCAL_MODULE := freetype
+LOCAL_SRC_FILES := $(FREETYPE_LIBRARY_PATH)/objs/.libs/libfreetype.a
+include $(PREBUILT_STATIC_LIBRARY)
+include $(CLEAR_VARS)
+
+# SDL_TTF
+LOCAL_MODULE := sdl_ttf
 
 LOCAL_CPP_EXTENSION := .cpp
 
@@ -14,5 +34,22 @@
 LOCAL_STATIC_LIBRARIES := freetype
 LOCAL_LDLIBS := -lz
 
+LOCAL_CFLAGS := -I$(LOCAL_PATH) -I$(LOCAL_PATH)/../sdl/include -I$(LOCAL_PATH)/../freetype/include
+LOCAL_CFLAGS += -DFT2_BUILD_LIBRARY
+LOCAL_C_INCLUDES += $(FREETYPE_LIBRARY_PATH)/include \
+    $(FREETYPE_LIBRARY_PATH)/include/config \
+    $(FREETYPE_LIBRARY_PATH)/include/internal \
+    $(FREETYPE_LIBRARY_PATH)/include/internal/services \
+    $(FREETYPE_LIBRARY_PATH)/src
+
+ifeq ($(SUPPORT_HARFBUZZ),true)
+    LOCAL_C_INCLUDES += $(HARFBUZZ_LIBRARY_PATH) \
+        $(HARFBUZZ_LIBRARY_PATH)/src \
+        $(FREETYPE_LIBRARY_PATH)/install/include
+    LOCAL_STATIC_LIBRARIES += harfbuzz
+endif
+
+LOCAL_EXPORT_C_INCLUDES += $(LOCAL_C_INCLUDES)
+
 include $(BUILD_SHARED_LIBRARY)
 
